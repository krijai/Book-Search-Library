{"version":3,"sources":["components/SearchBar/SearchBar.js","components/Cards/Cards.js","components/FilterButtton/FilterButton.js","App.js","index.js"],"names":["SearchBar","props","className","loading","searchData","onSubmit","e","preventDefault","handleSubmit","id","type","aria-label","aria-required","name","ref","textInput","onFocus","console","log","handleFocus","onBlur","required","htmlFor","isFocused","value","Cards","promiseData","val","a","res","axios","get","config","url","data","map","item","index","isbn","hasOwnProperty","objValue","then","_version_","title","year","first_publish_year","FilterButton","handleFilter","sortByTitle","sortByYear","onClick","App","current","setState","bookName","split","join","docs","state","sort","b","yearA","yearB","textA","toUpperCase","textB","React","createRef","this","Component","ReactDOM","render","StrictMode","href","document","getElementById"],"mappings":"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","file":"static/js/main.2d583457.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport './SearchBar.scss';\n\nconst SearchBar = (props) => {\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        props.handleSubmit();\n    }\n\n    const handleFocus = (e) => {\n        console.log(\"handleFocus hitttttttttttttt\");\n        props.handleFocus('focus')\n    }\n\n    const handleBlur = (e) => {\n        console.log(\"handleBlur hitttttttttttttt\");\n        props.handleFocus('blur')\n    }\n\n    return (\n        <div className={`search-wrapper ${props.loading ? 'active' : ''} ${props.searchData ? 'auto-height' : ''}`}>\n            <form onSubmit={submitHandler}>\n                <input\n                    id=\"titleInput\"\n                    type=\"text\"\n                    aria-label=\"Search\"\n                    aria-required=\"true\"\n                    name=\"title\"\n                    ref={props.textInput}\n                    className=\"search-field\"\n                    onFocus={handleFocus}\n                    onBlur={handleBlur}\n                    required\n                />\n                <label htmlFor=\"titleInput\" className={` ${!props.isFocused ? '' : 'hide-label'}`}></label>\n                <input\n                    type=\"submit\" \n                    value=\"Submit\" \n                    aria-label=\"Submit\"\n                />\n            </form>\n        </div>\n    )\n}\n\nexport default SearchBar;","import React, { Fragment, useState } from 'react';\nimport './Cards.scss';\nimport axios from 'axios';\n\nconst Cards = (props) => {\n\n    const promiseData = async (val) => {\n        let res='#';\n        if(val) {\n            res = await axios.get(`http://covers.openlibrary.org/b/isbn/${val}-M.jpg`);\n            res = res.config.url\n        }\n        return res\n    }\n    return (\n        <div className=\"card-wrapper\">\n            {props.data ? \n\n            props.data.map((item, index) => {\n                let res;\n                let isbn = item.hasOwnProperty('isbn');\n                console.log('ISBN hasOwnPropertyhasOwnProperty---------------', item.hasOwnProperty('isbn'));\n                isbn = (isbn ? item.isbn[0] : '');\n                res = promiseData(isbn);\n                let objValue = res.then((data) => {\n                // console.log('Cards Component item-------', item, props.data[index]);\n                // setFilteredArr(...filteredArr, [{ id: item._version_, title: item.title, year: item.first_publish_year, url: data }])\n                    return ({ id: item._version_, title: item.title, year: item.first_publish_year, url: data })\n                })\n\n                console.log('objValue------------', objValue);\n\n                return (<div className=\"card-details\" key={item._version_}>\n                        <div className=\"card-image\">\n                            {/* <img src={res ? res.config.url : ''} alt=\"No URL\"/> */}\n                        </div>\n                        <div className=\"card-text\">\n                            <p><strong>Title:</strong> {item.title} </p>\n                            <p><strong>Year:</strong> ${item.first_publish_year}</p>\n                            </div>\n                        </div>);\n            })\n            : 'No Data'\n            }\n        </div>\n    )\n}\n\nexport default Cards;\n","import React from 'react'\nimport './FilterButton.scss'\n\nconst FilterButton = (props) => {\n    const { handleFilter, title, sortByTitle, sortByYear } = props;\n\n    const handleFilterClick = () => {\n        let sortType;\n        if(title == 'Sort Alphabetical') {\n            sortType = 'title';\n        } else {\n            sortType = 'year';\n        }\n        handleFilter(sortType);\n    }\n    return (\n        <li className={`filter-btn ${sortByTitle ? 'active' : ''} ${sortByYear ? 'active' : ''}`} onClick={handleFilterClick}>\n            {title}\n        </li>\n    )\n}\n\nexport default FilterButton;","import React, { Component, Fragment } from 'react';\nimport './App.scss';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport Cards from './components/Cards/Cards';\nimport FilterButton from './components/FilterButtton/FilterButton';\nimport axios from 'axios';\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state={\n      searchData: null,\n      sortByTitle: false,\n      sortByYear: false,\n      loading: false,\n      isFocused: false\n    }\n  \n    this.textInput = React.createRef();\n  }\n\n  handleSubmit = async () => {\n    if(this.textInput.current.value) {\n      this.setState({loading: true});\n    }\n    console.log('handleSubmit hittttttttttt', this.textInput.current.value);\n    let bookName = (this.textInput.current.value).split(' ').join('+');\n    try {\n      if(bookName) {\n        const res = await axios.get(`https://openlibrary.org/search.json?q=${bookName}`);\n        console.log('res----------------------', res.data.docs);\n        this.setState({\n          loading: false,\n          searchData: res.data.docs\n        });\n      }\n    }\n    catch(e) {\n      console.log('error----', e);\n    }\n  }\n\n  handleFilter = (val) => {\n    if(!this.state.sortByTitle && val == 'title') {\n      const data = this.state.searchData;\n      const sortedByTitle = data.sort(\n        function(a, b) {\n          var textA = a.title.toUpperCase();\n          var textB = b.title.toUpperCase();\n          return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\n      });\n      this.setState({sortByTitle: true, sortByYear: false})\n    } else if(!this.state.sortByYear && val == 'year') {\n      const data = this.state.searchData;\n      const sortedByYear = data.sort(\n        function(a, b) {\n          var yearA = a.first_publish_year;\n          var yearB = b.first_publish_year;\n          return (yearA < yearB) ? 1 : (yearA > yearB) ? -1 : 0;\n      });\n      this.setState({sortByTitle: false, sortByYear: true})\n    }\n  }\n\n  handleFocus = (val) => {\n    if(this.textInput.current.value) {\n      if(val == 'focus') {\n        this.setState({isFocused: false});\n      } else {\n          this.setState({isFocused: true});\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <SearchBar handleSubmit={() => this.handleSubmit()} textInput={this.textInput} loading={this.state.loading} isFocused={this.state.isFocused} searchData={this.state.searchData} handleFocus={(val) => this.handleFocus(val)}/>\n\n        {this.state.loading ?\n        <p>Fetching Data...</p> :\n        ''\n        }\n\n        {\n          this.state.searchData ?\n          <Fragment>\n            <ul className=\"filter-wrapper\">\n              <FilterButton handleFilter={(type) => this.handleFilter(type)} title=\"Sort Alphabetical\" sortByTitle={this.state.sortByTitle}/>\n              <FilterButton handleFilter={(type) => this.handleFilter(type)} title=\"Most Recently Published\" sortByYear={this.state.sortByYear}/>\n            </ul>\n            <Cards data={this.state.searchData} />\n          </Fragment> :\n          ''\n        }\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <h1><a href=\"/\">Book Search Library</a></h1>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}