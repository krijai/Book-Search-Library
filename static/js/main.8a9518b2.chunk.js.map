{"version":3,"sources":["components/SearchBar/SearchBar.js","components/Cards/Cards.js","components/FilterButtton/FilterButton.js","App.js","index.js"],"names":["SearchBar","props","className","loading","searchData","onSubmit","e","preventDefault","handleSubmit","id","type","aria-label","aria-required","name","ref","textInput","onFocus","console","log","handleFocus","onBlur","required","htmlFor","isFocused","value","Cards","promiseData","val","a","res","axios","get","config","url","data","map","item","index","isbn","hasOwnProperty","objValue","then","_version_","title","year","first_publish_year","authorName","author_name","FilterButton","handleFilter","sortByTitle","sortByYear","onClick","App","current","setState","bookName","split","join","docs","state","sort","b","yearA","undefined","yearB","textA","toUpperCase","textB","React","createRef","this","Component","ReactDOM","render","StrictMode","href","document","getElementById"],"mappings":"0WA8CeA,EA3CG,SAACC,GAiBf,OACI,qBAAKC,UAAS,yBAAoBD,EAAME,QAAU,SAAW,GAA/C,YAAqDF,EAAMG,WAAa,cAAgB,IAAtG,SACI,uBAAMC,SAjBQ,SAACC,GACnBA,EAAEC,iBACFN,EAAMO,gBAeF,UACI,uBACIC,GAAG,aACHC,KAAK,OACLC,aAAW,SACXC,gBAAc,OACdC,KAAK,QACLC,IAAKb,EAAMc,UACXb,UAAU,eACVc,QArBI,SAACV,GACjBW,QAAQC,IAAI,gCACZjB,EAAMkB,YAAY,UAoBNC,OAjBG,SAACd,GAChBW,QAAQC,IAAI,+BACZjB,EAAMkB,YAAY,SAgBNE,UAAQ,IAEZ,uBAAOC,QAAQ,aAAapB,UAAS,WAAOD,EAAMsB,UAAiB,aAAL,MAC9D,uBACIb,KAAK,SACLc,MAAM,SACNb,aAAW,iB,wBCUhBc,EA7CD,SAACxB,GAEX,IAAMyB,EAAW,uCAAG,WAAOC,GAAP,eAAAC,EAAA,yDACZC,EAAI,KACLF,EAFa,gCAGAG,IAAMC,IAAN,+CAAkDJ,EAAlD,WAHA,OAIZE,GADAA,EAHY,QAIFG,OAAOC,IAJL,gCAMTJ,GANS,2CAAH,sDAQjB,OACI,qBAAK3B,UAAU,eAAf,SACKD,EAAMiC,KAEPjC,EAAMiC,KAAKC,KAAI,SAACC,EAAMC,GAClB,IACIC,EAAOF,EAAKG,eAAe,QAC/BD,EAAQA,EAAOF,EAAKE,KAAK,GAAK,GAE9B,IAKId,EALAgB,EADEd,EAAYY,GACCG,MAAK,SAACP,GACrB,MAAQ,CAAEzB,GAAI2B,EAAKM,UAAWC,MAAOP,EAAKO,MAAOC,KAAMR,EAAKS,mBAAoBZ,IAAKC,MAErFU,EAAOR,EAAKG,eAAe,sBAAwBH,EAAKS,mBAAqB,EAC7EC,EAAaV,EAAKG,eAAe,eAAiBH,EAAKW,YAAY,GAAK,MAI5E,OAFAP,EAASC,MAAK,SAACd,GAAD,OAASH,EAAQ,aAC/BP,QAAQC,IAAI,0BAA2BM,GAC/B,sBAAKtB,UAAU,eAAf,UACA,qBAAKA,UAAU,eAGf,sBAAKA,UAAU,YAAf,UACI,8BAAG,4CAAH,IAA4BkC,EAAKO,MAAjC,OACA,8BAAG,2CAAH,IAA2BC,KAC3B,8BAAG,6CAAH,IAA6BE,KAC7B,8BAAG,0CAAsBtB,UARMY,EAAKM,cAYlD,aCrBCM,G,MAnBM,SAAC/C,GAAW,IACrBgD,EAAiDhD,EAAjDgD,aAAcN,EAAmC1C,EAAnC0C,MAAOO,EAA4BjD,EAA5BiD,YAAaC,EAAelD,EAAfkD,WAW1C,OACI,oBAAIjD,UAAS,qBAAgBgD,EAAc,SAAW,GAAzC,YAA+CC,EAAa,SAAW,IAAMC,QAVpE,WAOtBH,EALY,qBAATN,EACY,QAEA,SAKf,SACKA,MCmFEU,E,kDA5Fb,WAAYpD,GAAQ,IAAD,8BACjB,cAAMA,IAYRO,aAbmB,sBAaJ,8BAAAoB,EAAA,yDACV,EAAKb,UAAUuC,QAAQ9B,OACxB,EAAK+B,SAAS,CAACpD,SAAS,IAEtBqD,EAAY,EAAKzC,UAAUuC,QAAQ9B,MAAOiC,MAAM,KAAKC,KAAK,KAJjD,UAMRF,EANQ,gCAOS1B,IAAMC,IAAN,gDAAmDyB,IAP5D,OAOH3B,EAPG,OAQTZ,QAAQC,IAAI,6BAA8BW,GAC1C,EAAK0B,SAAS,CACZpD,SAAS,EACTC,WAAYyB,EAAIK,KAAKyB,OAXd,yDAgBX1C,QAAQC,IAAI,YAAZ,MAhBW,0DAbI,EAiCnB+B,aAAe,SAACtB,GACd,GAAI,EAAKiC,MAAMV,aAAsB,SAAPvB,GASvB,IAAI,EAAKiC,MAAMT,YAAqB,QAAPxB,EAAe,CACpC,EAAKiC,MAAMxD,WACEyD,MACxB,SAASjC,EAAGkC,GACV,IAAIC,OAAiCC,IAAzBpC,EAAEiB,mBAAmCjB,EAAEiB,mBAAqB,EACpEoB,OAAiCD,IAAzBF,EAAEjB,mBAAmCiB,EAAEjB,mBAAqB,EACxE,OAAQkB,EAAQE,EAAS,EAAKF,EAAQE,GAAU,EAAI,KAExD,EAAKV,SAAS,CAACL,aAAa,EAAOC,YAAY,SAjBH,CAC/B,EAAKS,MAAMxD,WACGyD,MACzB,SAASjC,EAAGkC,GACV,IAAII,EAAQtC,EAAEe,MAAMwB,cAChBC,EAAQN,EAAEnB,MAAMwB,cACpB,OAAQD,EAAQE,GAAU,EAAKF,EAAQE,EAAS,EAAI,KAExD,EAAKb,SAAS,CAACL,aAAa,EAAMC,YAAY,MA1C/B,EAuDnBhC,YAAc,SAACQ,GACV,EAAKZ,UAAUuC,QAAQ9B,QACd,SAAPG,EACD,EAAK4B,SAAS,CAAChC,WAAW,IAExB,EAAKgC,SAAS,CAAChC,WAAW,MA1DhC,EAAKqC,MAAM,CACTxD,WAAY,KACZ8C,aAAa,EACbC,YAAY,EACZhD,SAAS,EACToB,WAAW,GAGb,EAAKR,UAAYsD,IAAMC,YAVN,E,0CAiEnB,WAAU,IAAD,OACP,OACE,sBAAKpE,UAAU,MAAf,UACE,cAAC,EAAD,CAAWM,aAAc,kBAAM,EAAKA,gBAAgBO,UAAWwD,KAAKxD,UAAWZ,QAASoE,KAAKX,MAAMzD,QAASoB,UAAWgD,KAAKX,MAAMrC,UAAWnB,WAAYmE,KAAKX,MAAMxD,WAAYe,YAAa,SAACQ,GAAD,OAAS,EAAKR,YAAYQ,MAEtN4C,KAAKX,MAAMzD,QACZ,iDACA,GAIEoE,KAAKX,MAAMxD,WACX,eAAC,WAAD,WACE,qBAAIF,UAAU,iBAAd,UACE,cAAC,EAAD,CAAc+C,aAAc,SAACvC,GAAD,OAAU,EAAKuC,aAAavC,IAAOiC,MAAM,oBAAoBO,YAAaqB,KAAKX,MAAMV,cACjH,cAAC,EAAD,CAAcD,aAAc,SAACvC,GAAD,OAAU,EAAKuC,aAAavC,IAAOiC,MAAM,0BAA0BQ,WAAYoB,KAAKX,MAAMT,gBAExH,cAAC,EAAD,CAAOjB,KAAMqC,KAAKX,MAAMxD,gBAE1B,U,GArFQoE,aCFlBC,IAASC,OACP,eAAC,IAAMC,WAAP,WACE,6BAAI,mBAAGC,KAAK,IAAR,mCACJ,cAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.8a9518b2.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport './SearchBar.scss';\n\nconst SearchBar = (props) => {\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        props.handleSubmit();\n    }\n\n    const handleFocus = (e) => {\n        console.log(\"handleFocus hitttttttttttttt\");\n        props.handleFocus('focus')\n    }\n\n    const handleBlur = (e) => {\n        console.log(\"handleBlur hitttttttttttttt\");\n        props.handleFocus('blur')\n    }\n\n    return (\n        <div className={`search-wrapper ${props.loading ? 'active' : ''} ${props.searchData ? 'auto-height' : ''}`}>\n            <form onSubmit={submitHandler}>\n                <input\n                    id=\"titleInput\"\n                    type=\"text\"\n                    aria-label=\"Search\"\n                    aria-required=\"true\"\n                    name=\"title\"\n                    ref={props.textInput}\n                    className=\"search-field\"\n                    onFocus={handleFocus}\n                    onBlur={handleBlur}\n                    required\n                />\n                <label htmlFor=\"titleInput\" className={` ${!props.isFocused ? '' : 'hide-label'}`}></label>\n                <input\n                    type=\"submit\" \n                    value=\"Submit\" \n                    aria-label=\"Submit\"\n                />\n            </form>\n        </div>\n    )\n}\n\nexport default SearchBar;","import React, { Fragment, useState } from 'react';\nimport './Cards.scss';\nimport axios from 'axios';\n\nconst Cards = (props) => {\n\n    const promiseData = async (val) => {\n        let res='#';\n        if(val) {\n            res = await axios.get(`http://covers.openlibrary.org/b/isbn/${val}-M.jpg`);\n            res = res.config.url\n        }\n        return res\n    }\n    return (\n        <div className=\"card-wrapper\">\n            {props.data ? \n\n            props.data.map((item, index) => {\n                let res;\n                let isbn = item.hasOwnProperty('isbn');\n                isbn = (isbn ? item.isbn[0] : '');\n                res = promiseData(isbn);\n                let objValue = res.then((data) => {\n                    return ({ id: item._version_, title: item.title, year: item.first_publish_year, url: data })\n                })\n                let year = item.hasOwnProperty('first_publish_year') ? item.first_publish_year : 0;\n                let authorName = item.hasOwnProperty('author_name') ? item.author_name[0] : 'N/A';\n                let value;\n                objValue.then((val) => value = 'val.url');\n                console.log('val.url----------------', value);\n                return (<div className=\"card-details\" key={item._version_}>\n                        <div className=\"card-image\">\n                            {/* <img src={res ? res.config.url : ''} alt=\"No URL\"/> */}\n                        </div>\n                        <div className=\"card-text\">\n                            <p><strong>Title:</strong> {item.title} </p>\n                            <p><strong>Year:</strong> {year}</p>\n                            <p><strong>Author:</strong> {authorName}</p>\n                            <p><strong>URL:</strong>{value}</p>\n                            </div>\n                        </div>);\n            })\n            : 'No Data'\n            }\n        </div>\n    )\n}\n\nexport default Cards;\n","import React from 'react'\nimport './FilterButton.scss'\n\nconst FilterButton = (props) => {\n    const { handleFilter, title, sortByTitle, sortByYear } = props;\n\n    const handleFilterClick = () => {\n        let sortType;\n        if(title == 'Sort Alphabetical') {\n            sortType = 'title';\n        } else {\n            sortType = 'year';\n        }\n        handleFilter(sortType);\n    }\n    return (\n        <li className={`filter-btn ${sortByTitle ? 'active' : ''} ${sortByYear ? 'active' : ''}`} onClick={handleFilterClick}>\n            {title}\n        </li>\n    )\n}\n\nexport default FilterButton;","import React, { Component, Fragment } from 'react';\nimport './App.scss';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport Cards from './components/Cards/Cards';\nimport FilterButton from './components/FilterButtton/FilterButton';\nimport axios from 'axios';\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state={\n      searchData: null,\n      sortByTitle: false,\n      sortByYear: false,\n      loading: false,\n      isFocused: false\n    }\n  \n    this.textInput = React.createRef();\n  }\n\n  handleSubmit = async () => {\n    if(this.textInput.current.value) {\n      this.setState({loading: true});\n    }\n    let bookName = (this.textInput.current.value).split(' ').join('+');\n    try {\n      if(bookName) {\n        const res = await axios.get(`https://openlibrary.org/search.json?q=${bookName}`);\n        console.log('res-----------------------', res);\n        this.setState({\n          loading: false,\n          searchData: res.data.docs\n        });\n      }\n    }\n    catch(e) {\n      console.log('error----', e);\n    }\n  }\n\n  handleFilter = (val) => {\n    if(!this.state.sortByTitle && val == 'title') {\n      const data = this.state.searchData;\n      const sortedByTitle = data.sort(\n        function(a, b) {\n          var textA = a.title.toUpperCase();\n          var textB = b.title.toUpperCase();\n          return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\n      });\n      this.setState({sortByTitle: true, sortByYear: false})\n    } else if(!this.state.sortByYear && val == 'year') {\n      const data = this.state.searchData;\n      const sortedByYear = data.sort(\n        function(a, b) {\n          var yearA = a.first_publish_year !== undefined ? a.first_publish_year : 0;\n          var yearB = b.first_publish_year !== undefined ? b.first_publish_year : 0;\n          return (yearA < yearB) ? 1 : (yearA > yearB) ? -1 : 0;\n      });\n      this.setState({sortByTitle: false, sortByYear: true})\n    }\n  }\n\n  handleFocus = (val) => {\n    if(this.textInput.current.value) {\n      if(val == 'focus') {\n        this.setState({isFocused: false});\n      } else {\n          this.setState({isFocused: true});\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <SearchBar handleSubmit={() => this.handleSubmit()} textInput={this.textInput} loading={this.state.loading} isFocused={this.state.isFocused} searchData={this.state.searchData} handleFocus={(val) => this.handleFocus(val)}/>\n\n        {this.state.loading ?\n        <p>Fetching Data...</p> :\n        ''\n        }\n\n        {\n          this.state.searchData ?\n          <Fragment>\n            <ul className=\"filter-wrapper\">\n              <FilterButton handleFilter={(type) => this.handleFilter(type)} title=\"Sort Alphabetical\" sortByTitle={this.state.sortByTitle}/>\n              <FilterButton handleFilter={(type) => this.handleFilter(type)} title=\"Most Recently Published\" sortByYear={this.state.sortByYear}/>\n            </ul>\n            <Cards data={this.state.searchData} />\n          </Fragment> :\n          ''\n        }\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <h1><a href=\"/\">Book Search Library</a></h1>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}